<html>
<head>
  <title>Pabu.Me</title>
  <script src="/js/jquery-1.7.2.min.js"></script>
  <script src="/js/jquery.form.js"></script>
  <script src="/js/kinetic-v3.9.6.min.js"></script>
  <script src="/js/pabu.js"></script>
  <link rel="stylesheet" href="/css/pabu.css" />

  <% if ENV['GAUGES'] %>
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '<%= ENV['GAUGES'] %>');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
  <% end %>
</head>
<body>
  <h1>Pabu Me!</h1>
  <div>
    <form method="post" action="/pabuplan" id="urlForm">
      Gimme an URL: <input name="url" type="text" value="http://mc.rubyi.st/~scott/pabu/scott.jpg" /> <input type="submit" name="Pabufy" />
    </form>
  </div>

  <div id="pabufying">Pabufying ...</div>

  <div id="pabu"></div>
  <form method="post" action="/pabufy" id="pabufyForm">
    <input type="hidden" name="id" />
    <input type="submit" value="THIS LOOKS GOOD LET'S DO IT!" />
  </form>

  <div id="todo">
    <h2>Todo</h2>
    <ul>
      <li><strike>Initial prototype</strike></li>
      <li><strike>Proportional scaling only</strike></li>
      <li><strike>Find people in image</strike></li>
      <li><strike>Place a scalable Pabu by them</strike></li>
      <li><strike>Generate final animated gif</strike></li>
      <li>Position and scale the animated Pabu properly in animationÂ¯</li>
      <li>Put the generated image on s3 or something not stupid</li>
      <li>Pabufy image upload</li>
      <li>Purty designs</li>
      <li>Detect multiple people</li>
      <li>Flip Pabu to face right or left</li>
      <li>Use trimmed image of first frame of Pabu for scaler, save width</li>
      <li>Work better with smaller images - Pabu's drag handles are too big</li>
      <li>Animate Pabu while working</li>
      <li>...</li>
      <li>Profit!</li>
    </ul>
  </div>
</body>
